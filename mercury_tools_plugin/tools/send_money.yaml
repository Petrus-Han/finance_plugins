identity:
  name: send_money
  author: petrus
  label:
    en_US: Send Payment
    zh_Hans: 发送付款
    ja_JP: 送金する
    fr_FR: Envoyer un paiement
    es_ES: Enviar pago
    pt_BR: Enviar pagamento
    ko_KR: 결제 보내기
description:
  human:
    en_US: Send money from your Mercury account to a saved recipient. Supports bank transfer (ACH), wire transfer, or check. May require approval.
    zh_Hans: 从您的 Mercury 账户向已保存的收款人付款。支持银行转账 (ACH)、电汇或支票。可能需要审批。
    ja_JP: Mercury 口座から登録済みの受取人に送金。銀行振込 (ACH)、電信送金、小切手に対応。承認が必要な場合があります。
    fr_FR: Envoyer de l'argent depuis votre compte Mercury vers un bénéficiaire enregistré. Prend en charge le virement bancaire (ACH), le virement télégraphique ou le chèque.
    es_ES: Envíe dinero desde su cuenta Mercury a un beneficiario guardado. Admite transferencia bancaria (ACH), transferencia telegráfica o cheque.
    pt_BR: Envie dinheiro da sua conta Mercury para um beneficiário salvo. Suporta transferência bancária (ACH), transferência eletrônica ou cheque.
    ko_KR: Mercury 계좌에서 저장된 수취인에게 송금합니다. 은행 이체 (ACH), 전신 송금, 수표를 지원합니다. 승인이 필요할 수 있습니다.
  llm: Request to send money from a Mercury bank account to a configured recipient. Supports ACH, wire, and check payments. Returns the request status and may require approval.
parameters:
  - name: account_id
    type: string
    required: true
    label:
      en_US: Source Account
      zh_Hans: 付款账户
      ja_JP: 送金元口座
      fr_FR: Compte source
      es_ES: Cuenta de origen
      pt_BR: Conta de origem
      ko_KR: 출금 계좌
    human_description:
      en_US: Select the Mercury account to send money from
      zh_Hans: 选择用于付款的 Mercury 账户
      ja_JP: 送金元の Mercury 口座を選択
      fr_FR: Sélectionnez le compte Mercury source
      es_ES: Seleccione la cuenta Mercury de origen
      pt_BR: Selecione a conta Mercury de origem
      ko_KR: 출금할 Mercury 계좌를 선택하세요
    llm_description: The Mercury source account ID (starts with 'acc_' or 'account_')
    form: llm

  - name: recipient_id
    type: string
    required: true
    label:
      en_US: Recipient
      zh_Hans: 收款人
      ja_JP: 受取人
      fr_FR: Bénéficiaire
      es_ES: Beneficiario
      pt_BR: Beneficiário
      ko_KR: 수취인
    human_description:
      en_US: Select the recipient to send money to
      zh_Hans: 选择付款对象
      ja_JP: 送金先の受取人を選択
      fr_FR: Sélectionnez le bénéficiaire
      es_ES: Seleccione el beneficiario
      pt_BR: Selecione o beneficiário
      ko_KR: 송금할 수취인을 선택하세요
    llm_description: The Mercury recipient ID (starts with 'rcp_' or 'recipient_')
    form: llm

  - name: amount
    type: number
    required: true
    label:
      en_US: Amount (USD)
      zh_Hans: 金额（美元）
      ja_JP: 金額（USD）
      fr_FR: Montant (USD)
      es_ES: Monto (USD)
      pt_BR: Valor (USD)
      ko_KR: 금액 (USD)
    human_description:
      en_US: Enter the amount to send in US dollars
      zh_Hans: 输入要发送的金额（美元）
      ja_JP: 送金金額を米ドルで入力
      fr_FR: Entrez le montant à envoyer en dollars américains
      es_ES: Ingrese el monto a enviar en dólares estadounidenses
      pt_BR: Digite o valor a enviar em dólares americanos
      ko_KR: 송금할 금액을 미국 달러로 입력하세요
    llm_description: The amount to send in USD (must be positive)
    form: llm

  - name: payment_method
    type: select
    required: false
    default: ach
    label:
      en_US: Payment Method
      zh_Hans: 付款方式
      ja_JP: 支払方法
      fr_FR: Mode de paiement
      es_ES: Método de pago
      pt_BR: Método de pagamento
      ko_KR: 결제 방법
    human_description:
      en_US: Choose how to send the payment
      zh_Hans: 选择付款方式
      ja_JP: 支払方法を選択
      fr_FR: Choisissez le mode de paiement
      es_ES: Elija el método de pago
      pt_BR: Escolha o método de pagamento
      ko_KR: 결제 방법을 선택하세요
    llm_description: Payment method - ach (default), wire, or check
    options:
      - value: ach
        label:
          en_US: Bank Transfer (ACH) - 1-3 business days
          zh_Hans: 银行转账 (ACH) - 1-3 个工作日
          ja_JP: 銀行振込 (ACH) - 1〜3 営業日
          fr_FR: Virement bancaire (ACH) - 1-3 jours ouvrables
          es_ES: Transferencia bancaria (ACH) - 1-3 días hábiles
          pt_BR: Transferência bancária (ACH) - 1-3 dias úteis
          ko_KR: 은행 이체 (ACH) - 영업일 1-3일
      - value: wire
        label:
          en_US: Wire Transfer - Same day
          zh_Hans: 电汇 - 当日到账
          ja_JP: 電信送金 - 当日
          fr_FR: Virement télégraphique - Même jour
          es_ES: Transferencia telegráfica - Mismo día
          pt_BR: Transferência eletrônica - Mesmo dia
          ko_KR: 전신 송금 - 당일
      - value: check
        label:
          en_US: Check - Mailed to recipient
          zh_Hans: 支票 - 邮寄给收款人
          ja_JP: 小切手 - 受取人に郵送
          fr_FR: Chèque - Envoyé par courrier
          es_ES: Cheque - Enviado por correo
          pt_BR: Cheque - Enviado pelo correio
          ko_KR: 수표 - 수취인에게 우편 발송
    form: form

  - name: note
    type: string
    required: false
    label:
      en_US: Internal Note
      zh_Hans: 内部备注
      ja_JP: 内部メモ
      fr_FR: Note interne
      es_ES: Nota interna
      pt_BR: Nota interna
      ko_KR: 내부 메모
    human_description:
      en_US: Add a private note for your records (recipient won't see this)
      zh_Hans: 添加私人备注供内部记录（收款人看不到）
      ja_JP: 内部記録用のメモを追加（受取人には表示されません）
      fr_FR: Ajoutez une note privée pour vos dossiers (le bénéficiaire ne la verra pas)
      es_ES: Agregue una nota privada para sus registros (el beneficiario no la verá)
      pt_BR: Adicione uma nota privada para seus registros (o beneficiário não verá)
      ko_KR: 내부 기록용 메모 추가 (수취인에게 표시되지 않음)
    llm_description: Optional internal note for the payment
    form: llm

  - name: external_memo
    type: string
    required: false
    label:
      en_US: Message to Recipient
      zh_Hans: 给收款人的留言
      ja_JP: 受取人へのメッセージ
      fr_FR: Message au bénéficiaire
      es_ES: Mensaje al beneficiario
      pt_BR: Mensagem ao beneficiário
      ko_KR: 수취인에게 보내는 메시지
    human_description:
      en_US: Add a message that the recipient will see with the payment
      zh_Hans: 添加收款人会看到的付款备注
      ja_JP: 受取人に表示されるメッセージを追加
      fr_FR: Ajoutez un message que le bénéficiaire verra avec le paiement
      es_ES: Agregue un mensaje que el beneficiario verá con el pago
      pt_BR: Adicione uma mensagem que o beneficiário verá com o pagamento
      ko_KR: 수취인이 결제와 함께 볼 메시지를 추가하세요
    llm_description: Optional memo that will be visible to the recipient
    form: llm

  - name: idempotency_key
    type: string
    required: false
    label:
      en_US: Request ID
      zh_Hans: 请求标识
      ja_JP: リクエスト ID
      fr_FR: ID de requête
      es_ES: ID de solicitud
      pt_BR: ID da solicitação
      ko_KR: 요청 ID
    human_description:
      en_US: Optional unique ID to prevent duplicate payments if you retry
      zh_Hans: 可选的唯一标识，用于在重试时防止重复付款
      ja_JP: 再試行時の重複支払いを防ぐためのオプションの一意 ID
      fr_FR: ID unique optionnel pour éviter les paiements en double lors d'une nouvelle tentative
      es_ES: ID único opcional para evitar pagos duplicados al reintentar
      pt_BR: ID único opcional para evitar pagamentos duplicados ao tentar novamente
      ko_KR: 재시도 시 중복 결제를 방지하기 위한 선택적 고유 ID
    llm_description: Optional unique key for request deduplication
    form: form

output_schema:
  type: object
  properties:
    success:
      type: boolean
      description: Whether the operation succeeded
    request_id:
      type: string
      description: Send money request ID
    status:
      type: string
      description: Request status
    amount:
      type: number
      description: Amount sent
    recipient_id:
      type: string
      description: Recipient ID
    payment_method:
      type: string
      description: Payment method used
    created_at:
      type: string
      description: Creation timestamp
    transaction_id:
      type: string
      description: Transaction ID (if immediately processed)
    message:
      type: string
      description: Status message

extra:
  python:
    source: tools/send_money.py
