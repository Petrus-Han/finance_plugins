identity:
  name: get_transaction
  author: alai-sudo
  label:
    en_US: Get Transaction Details
    zh_Hans: 获取交易详情
description:
  human:
    en_US: Retrieve detailed information about a specific transaction.
    zh_Hans: 获取特定交易的详细信息。
  llm: Fetches complete details for a specific transaction by ID, including status, counterparty info, and tracking details.
parameters:
  - name: transaction_id
    type: string
    required: true
    label:
      en_US: Transaction ID
      zh_Hans: 交易 ID
    human_description:
      en_US: The unique identifier of the transaction
      zh_Hans: 交易的唯一标识符
    llm_description: Mercury transaction ID (e.g., txn_xxx)
    form: llm

output_schema:
  type: object
  properties:
    id:
      type: string
      description:
        en_US: Transaction ID
        zh_Hans: 交易 ID
    account_id:
      type: string
      description:
        en_US: Account ID
        zh_Hans: 账户 ID
    amount:
      type: number
      description:
        en_US: Transaction amount
        zh_Hans: 交易金额
    status:
      type: string
      description:
        en_US: Transaction status
        zh_Hans: 交易状态
    counterparty_name:
      type: string
      description:
        en_US: Counterparty name
        zh_Hans: 交易对手名称
    counterparty_id:
      type: string
      description:
        en_US: Counterparty ID
        zh_Hans: 交易对手 ID
    note:
      type: string
      description:
        en_US: Internal note
        zh_Hans: 内部备注
    external_memo:
      type: string
      description:
        en_US: External memo
        zh_Hans: 外部备注
    posted_at:
      type: string
      description:
        en_US: Posted timestamp
        zh_Hans: 入账时间
    created_at:
      type: string
      description:
        en_US: Creation timestamp
        zh_Hans: 创建时间
    kind:
      type: string
      description:
        en_US: Transaction kind
        zh_Hans: 交易种类
    tracking_number:
      type: string
      description:
        en_US: Tracking number
        zh_Hans: 追踪号码
    routing_details:
      type: object
      description:
        en_US: Routing information
        zh_Hans: 路由信息
      properties:
        account_number:
          type: string
          description:
            en_US: Account number
            zh_Hans: 账户号码
        routing_number:
          type: string
          description:
            en_US: Routing number
            zh_Hans: 路由号码
        bank_name:
          type: string
          description:
            en_US: Bank name
            zh_Hans: 银行名称
    attachments:
      type: array
      description:
        en_US: Transaction attachments
        zh_Hans: 交易附件
      items:
        type: object
        properties:
          id:
            type: string
            description:
              en_US: Attachment ID
              zh_Hans: 附件 ID
          file_name:
            type: string
            description:
              en_US: File name
              zh_Hans: 文件名

extra:
  python:
    source: tools/get_transaction.py
