identity:
  name: get_transaction
  author: alai-sudo
  label:
    en_US: Get Transaction Details
    zh_Hans: 获取交易详情
description:
  human:
    en_US: Retrieve detailed information about a specific transaction.
    zh_Hans: 获取特定交易的详细信息。
  llm: Fetches complete details for a specific transaction by ID, including status, counterparty info, and tracking details.
parameters:
  - name: account_id
    type: string
    required: true
    label:
      en_US: Account ID
      zh_Hans: 账户 ID
    human_description:
      en_US: The Mercury account ID that contains the transaction
      zh_Hans: 包含该交易的 Mercury 账户 ID
    llm_description: Mercury account ID (UUID format)
    form: llm
  - name: transaction_id
    type: string
    required: true
    label:
      en_US: Transaction ID
      zh_Hans: 交易 ID
    human_description:
      en_US: The unique identifier of the transaction
      zh_Hans: 交易的唯一标识符
    llm_description: Mercury transaction ID (e.g., txn_xxx)
    form: llm

output_schema:
  type: object
  properties:
    id:
      type: string
      description: Transaction ID
    account_id:
      type: string
      description: Account ID
    amount:
      type: number
      description: Transaction amount
    status:
      type: string
      description: Transaction status
    counterparty_name:
      type: string
      description: Counterparty name
    counterparty_id:
      type: string
      description: Counterparty ID
    note:
      type: string
      description: Internal note
    external_memo:
      type: string
      description: External memo
    posted_at:
      type: string
      description: Posted timestamp
    created_at:
      type: string
      description: Creation timestamp
    kind:
      type: string
      description: Transaction kind
    tracking_number:
      type: string
      description: Tracking number
    routing_details:
      type: object
      description: Routing information
      properties:
        account_number:
          type: string
          description: Account number
        routing_number:
          type: string
          description: Routing number
        bank_name:
          type: string
          description: Bank name
    attachments:
      type: array
      description: Transaction attachments
      items:
        type: object
        properties:
          id:
            type: string
            description: Attachment ID
          file_name:
            type: string
            description: File name

extra:
  python:
    source: tools/get_transaction.py
