identity:
  name: get_transactions
  author: petrus
  label:
    en_US: Get Transactions
    zh_Hans: 获取交易记录
  icon: icon.svg

description:
  human:
    en_US: Retrieve transaction history for a Mercury bank account with optional date filtering
    zh_Hans: 获取 Mercury 银行账户的交易历史记录，支持日期过滤
  llm: A tool to retrieve transactions for a Mercury bank account, optionally filtered by date range and with pagination support

parameters:
  - name: account_id
    type: string
    required: true
    label:
      en_US: Account ID
      zh_Hans: 账户 ID
    human_description:
      en_US: The unique identifier of the Mercury account to retrieve transactions for
      zh_Hans: 要检索交易的 Mercury 账户的唯一标识符
    llm_description: The unique identifier (ID) of the Mercury account to retrieve transactions for
    form: llm

  - name: start_date
    type: string
    required: false
    label:
      en_US: Start Date
      zh_Hans: 开始日期
    human_description:
      en_US: Start date for filtering transactions (ISO 8601 format, e.g., 2026-01-01T00:00:00Z)
      zh_Hans: 过滤交易的开始日期（ISO 8601 格式，例如 2026-01-01T00:00:00Z）
    llm_description: Optional start date for filtering transactions in ISO 8601 format (e.g., 2026-01-01T00:00:00Z)
    form: llm

  - name: end_date
    type: string
    required: false
    label:
      en_US: End Date
      zh_Hans: 结束日期
    human_description:
      en_US: End date for filtering transactions (ISO 8601 format, e.g., 2026-01-31T23:59:59Z)
      zh_Hans: 过滤交易的结束日期（ISO 8601 格式，例如 2026-01-31T23:59:59Z）
    llm_description: Optional end date for filtering transactions in ISO 8601 format (e.g., 2026-01-31T23:59:59Z)
    form: llm

  - name: limit
    type: number
    required: false
    default: 100
    label:
      en_US: Limit
      zh_Hans: 限制数量
    human_description:
      en_US: Maximum number of transactions to return (default 100)
      zh_Hans: 返回的最大交易数量（默认 100）
    llm_description: Maximum number of transactions to return (default 100)
    form: llm

  - name: offset
    type: number
    required: false
    default: 0
    label:
      en_US: Offset
      zh_Hans: 偏移量
    human_description:
      en_US: Number of transactions to skip for pagination (default 0)
      zh_Hans: 用于分页的跳过交易数量（默认 0）
    llm_description: Number of transactions to skip for pagination (default 0)
    form: llm

output_schema:
  type: object
  properties:
    transactions:
      type: array
      description:
        en_US: List of transactions
        zh_Hans: 交易列表
      items:
        type: object
        properties:
          id:
            type: string
            description:
              en_US: Transaction ID
              zh_Hans: 交易 ID
          amount:
            type: number
            description:
              en_US: Transaction amount
              zh_Hans: 交易金额
          posted_at:
            type: string
            description:
              en_US: Posted timestamp
              zh_Hans: 入账时间
          status:
            type: string
            description:
              en_US: Transaction status
              zh_Hans: 交易状态
          counterparty_name:
            type: string
            description:
              en_US: Counterparty name
              zh_Hans: 交易对手名称
          bank_description:
            type: string
            description:
              en_US: Bank description
              zh_Hans: 银行描述
          note:
            type: string
            description:
              en_US: Internal note
              zh_Hans: 内部备注
          category:
            type: string
            description:
              en_US: Transaction category
              zh_Hans: 交易分类
          type:
            type: string
            description:
              en_US: Transaction type
              zh_Hans: 交易类型
          account_id:
            type: string
            description:
              en_US: Account ID
              zh_Hans: 账户 ID
    count:
      type: number
      description:
        en_US: Number of transactions returned
        zh_Hans: 返回的交易数量
    total:
      type: number
      description:
        en_US: Total number of transactions matching criteria
        zh_Hans: 符合条件的交易总数
    offset:
      type: number
      description:
        en_US: Current offset for pagination
        zh_Hans: 当前分页偏移量
    limit:
      type: number
      description:
        en_US: Maximum results per page
        zh_Hans: 每页最大结果数

extra:
  python:
    source: tools/get_transactions.py
