identity:
  name: payment_management
  author: petrus
  label:
    en_US: Manage Customer Payments
    zh_Hans: 管理客户付款
    ja_JP: 顧客支払い管理
    fr_FR: Gérer paiements clients
    es_ES: Gestionar pagos de clientes
    pt_BR: Gerenciar pagamentos de clientes
    ko_KR: 고객 결제 관리
  icon: icon.svg

description:
  human:
    en_US: Record payments you receive from customers. Link payments to invoices, or record deposits directly.
    zh_Hans: 记录从客户收到的付款。将付款关联到发票，或直接记录存款。
    ja_JP: 顧客からの支払いを記録。請求書への紐付けや直接入金の記録が可能。
    fr_FR: Enregistrez les paiements reçus de vos clients. Liez les paiements aux factures ou enregistrez les dépôts directement.
    es_ES: Registre pagos recibidos de clientes. Vincule pagos a facturas o registre depósitos directamente.
    pt_BR: Registre pagamentos recebidos de clientes. Vincule pagamentos a faturas ou registre depósitos diretamente.
    ko_KR: 고객으로부터 받은 결제를 기록합니다. 결제를 청구서에 연결하거나 직접 입금을 기록하세요.
  llm: A tool to manage customer payments in QuickBooks - supports create, read, update, delete, void, and query operations

parameters:
  - name: operation
    type: select
    required: true
    label:
      en_US: Action
      zh_Hans: 操作
      ja_JP: 操作
      fr_FR: Action
      es_ES: Acción
      pt_BR: Ação
      ko_KR: 작업
    human_description:
      en_US: What would you like to do?
      zh_Hans: 您想做什么？
      ja_JP: 何をしますか？
      fr_FR: Que souhaitez-vous faire ?
      es_ES: ¿Qué le gustaría hacer?
      pt_BR: O que você gostaria de fazer?
      ko_KR: 무엇을 하시겠습니까?
    llm_description: "Operation type: create, read, update, delete, void, or query"
    form: llm
    options:
      - value: create
        label:
          en_US: Record Payment
          zh_Hans: 记录付款
          ja_JP: 支払いを記録
          fr_FR: Enregistrer paiement
          es_ES: Registrar pago
          pt_BR: Registrar pagamento
          ko_KR: 결제 기록
      - value: read
        label:
          en_US: View Payment
          zh_Hans: 查看付款
          ja_JP: 支払いを表示
          fr_FR: Voir paiement
          es_ES: Ver pago
          pt_BR: Ver pagamento
          ko_KR: 결제 보기
      - value: update
        label:
          en_US: Edit Payment
          zh_Hans: 编辑付款
          ja_JP: 支払いを編集
          fr_FR: Modifier paiement
          es_ES: Editar pago
          pt_BR: Editar pagamento
          ko_KR: 결제 편집
      - value: delete
        label:
          en_US: Delete Payment
          zh_Hans: 删除付款
          ja_JP: 支払いを削除
          fr_FR: Supprimer paiement
          es_ES: Eliminar pago
          pt_BR: Excluir pagamento
          ko_KR: 결제 삭제
      - value: void
        label:
          en_US: Void Payment
          zh_Hans: 作废付款
          ja_JP: 支払いを無効化
          fr_FR: Annuler paiement
          es_ES: Anular pago
          pt_BR: Anular pagamento
          ko_KR: 결제 무효화
      - value: query
        label:
          en_US: Search Payments
          zh_Hans: 搜索付款
          ja_JP: 支払いを検索
          fr_FR: Rechercher paiements
          es_ES: Buscar pagos
          pt_BR: Pesquisar pagamentos
          ko_KR: 결제 검색
  - name: payment_id
    type: string
    required: false
    label:
      en_US: Payment ID
      zh_Hans: 付款 ID
    human_description:
      en_US: Payment ID (required for read, update, delete, void)
      zh_Hans: 付款 ID（读取、更新、删除、作废时必填）
    llm_description: The QuickBooks Payment ID. Required for read, update, delete, and void operations.
    form: llm

  - name: sync_token
    type: string
    required: false
    label:
      en_US: Sync Token
      zh_Hans: 同步令牌
    human_description:
      en_US: Sync token (required for update, delete, void)
      zh_Hans: 同步令牌（更新、删除、作废时必填）
    llm_description: The SyncToken for optimistic locking. Required for update, delete, and void.
    form: llm

  - name: customer_id
    type: string
    required: false
    label:
      en_US: Customer ID
      zh_Hans: 客户 ID
    human_description:
      en_US: Customer ID (required for create)
      zh_Hans: 客户 ID（创建时必填）
    llm_description: The QuickBooks Customer ID. Required for create.
    form: llm

  - name: total_amount
    type: number
    required: false
    label:
      en_US: Total Amount
      zh_Hans: 总金额
    human_description:
      en_US: Payment amount (required for create)
      zh_Hans: 付款金额（创建时必填）
    llm_description: The total payment amount. Required for create.
    form: llm

  - name: txn_date
    type: string
    required: false
    label:
      en_US: Transaction Date
      zh_Hans: 交易日期
    human_description:
      en_US: Payment date in YYYY-MM-DD format
      zh_Hans: 付款日期，格式 YYYY-MM-DD
    llm_description: The payment date in YYYY-MM-DD format
    form: llm

  - name: deposit_to_account_id
    type: string
    required: false
    label:
      en_US: Deposit To Account ID
      zh_Hans: 存入账户 ID
    human_description:
      en_US: Account ID to deposit payment into
      zh_Hans: 存入付款的账户 ID
    llm_description: The QuickBooks Account ID to deposit the payment into
    form: llm

  - name: payment_method_id
    type: string
    required: false
    label:
      en_US: Payment Method ID
      zh_Hans: 付款方式 ID
    human_description:
      en_US: Payment method ID (Cash, Check, Credit Card, etc.)
      zh_Hans: 付款方式 ID（现金、支票、信用卡等）
    llm_description: The QuickBooks Payment Method ID
    form: llm

  - name: invoice_id
    type: string
    required: false
    label:
      en_US: Invoice ID
      zh_Hans: 发票 ID
    human_description:
      en_US: Invoice ID to link payment to
      zh_Hans: 要关联的发票 ID
    llm_description: The Invoice ID to link this payment to
    form: llm

  - name: private_note
    type: string
    required: false
    label:
      en_US: Private Note
      zh_Hans: 内部备注
    human_description:
      en_US: Internal note (not visible to customer)
      zh_Hans: 内部备注（客户不可见）
    llm_description: Private note for internal use
    form: llm

  - name: query_string
    type: string
    required: false
    label:
      en_US: Query String
      zh_Hans: 查询条件
    human_description:
      en_US: "SQL-like query (e.g., TotalAmt > '100')"
      zh_Hans: "类 SQL 查询条件（如 TotalAmt > '100'）"
    llm_description: "SQL-like WHERE clause for query operation (e.g., TotalAmt > '100' or CustomerRef = '20')"
    form: llm

output_schema:
  type: object
  properties:
    success:
      type: boolean
      description: Whether the operation succeeded
    operation:
      type: string
      description: The operation performed
    payment:
      type: object
      description: Payment data
    payments:
      type: array
      description: List of payments (for query)
    message:
      type: string
      description: Status message

extra:
  python:
    source: tools/payment_management.py
