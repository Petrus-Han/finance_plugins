identity:
  name: credit_memo_management
  author: petrus
  label:
    en_US: Manage Credit Memos
    zh_Hans: 管理贷项通知单
    ja_JP: クレジットメモ管理
    fr_FR: Gérer avoirs
    es_ES: Gestionar notas de crédito
    pt_BR: Gerenciar notas de crédito
    ko_KR: 크레딧 메모 관리
  icon: icon.svg

description:
  human:
    en_US: Issue credit to a customer's account. Use when a customer overpaid, returned items, or deserves a discount on a future purchase.
    zh_Hans: 向客户账户发放贷记。当客户多付款、退货或应获得未来购买折扣时使用。
    ja_JP: 顧客のアカウントにクレジットを発行。過払い、返品、または将来の購入への割引が必要な場合に使用。
    fr_FR: Émettez un crédit sur le compte d'un client. Utilisez en cas de trop-perçu, retour d'articles ou remise sur un achat futur.
    es_ES: Emita crédito a la cuenta de un cliente. Use cuando un cliente pagó de más, devolvió artículos o merece un descuento en una compra futura.
    pt_BR: Emita crédito para a conta de um cliente. Use quando o cliente pagou a mais, devolveu itens ou merece desconto em uma compra futura.
    ko_KR: 고객 계정에 크레딧을 발급합니다. 고객이 초과 지불했거나, 상품을 반품했거나, 향후 구매에서 할인을 받아야 할 때 사용하세요.
  llm: A tool to manage credit memos in QuickBooks - for issuing credits or refunds to customers

parameters:
  - name: operation
    type: select
    required: true
    label:
      en_US: Action
      zh_Hans: 操作
      ja_JP: 操作
      fr_FR: Action
      es_ES: Acción
      pt_BR: Ação
      ko_KR: 작업
    human_description:
      en_US: What would you like to do?
      zh_Hans: 您想做什么？
      ja_JP: 何をしますか？
      fr_FR: Que souhaitez-vous faire ?
      es_ES: ¿Qué le gustaría hacer?
      pt_BR: O que você gostaria de fazer?
      ko_KR: 무엇을 하시겠습니까?
    llm_description: "Operation type: create, read, delete, or query"
    form: llm
    options:
      - value: create
        label:
          en_US: Issue Credit
          zh_Hans: 发放贷记
          ja_JP: クレジットを発行
          fr_FR: Émettre avoir
          es_ES: Emitir crédito
          pt_BR: Emitir crédito
          ko_KR: 크레딧 발급
      - value: read
        label:
          en_US: View Credit Memo
          zh_Hans: 查看贷项通知单
          ja_JP: クレジットメモを表示
          fr_FR: Voir avoir
          es_ES: Ver nota de crédito
          pt_BR: Ver nota de crédito
          ko_KR: 크레딧 메모 보기
      - value: delete
        label:
          en_US: Delete Credit Memo
          zh_Hans: 删除贷项通知单
          ja_JP: クレジットメモを削除
          fr_FR: Supprimer avoir
          es_ES: Eliminar nota de crédito
          pt_BR: Excluir nota de crédito
          ko_KR: 크레딧 메모 삭제
      - value: query
        label:
          en_US: Search Credit Memos
          zh_Hans: 搜索贷项通知单
          ja_JP: クレジットメモを検索
          fr_FR: Rechercher avoirs
          es_ES: Buscar notas de crédito
          pt_BR: Pesquisar notas de crédito
          ko_KR: 크레딧 메모 검색
  - name: credit_memo_id
    type: string
    required: false
    label:
      en_US: Credit Memo ID
      zh_Hans: 贷项通知单 ID
    human_description:
      en_US: Credit Memo ID
      zh_Hans: 贷项通知单 ID
    llm_description: Required for read and delete operations.
    form: llm

  - name: sync_token
    type: string
    required: false
    label:
      en_US: Sync Token
      zh_Hans: 同步令牌
    human_description:
      en_US: Sync Token
      zh_Hans: 同步令牌
    llm_description: Required for delete operation.
    form: llm

  - name: customer_id
    type: string
    required: false
    label:
      en_US: Customer ID
      zh_Hans: 客户 ID
    human_description:
      en_US: Customer ID
      zh_Hans: 客户 ID
    llm_description: Required for create operation.
    form: llm

  - name: lines_json
    type: string
    required: false
    label:
      en_US: Line Items (JSON)
      zh_Hans: 行项目 (JSON)
    human_description:
      en_US: Line Items (JSON)
      zh_Hans: 行项目 (JSON)
    llm_description: "JSON array: [{\"ItemRef\": {\"value\": \"1\"}, \"Qty\": 1, \"UnitPrice\": 100, \"Amount\": 100}]"
    form: llm

  - name: txn_date
    type: string
    required: false
    label:
      en_US: Transaction Date
      zh_Hans: 交易日期
    human_description:
      en_US: Transaction Date
      zh_Hans: 交易日期
    form: llm

  - name: customer_memo
    type: string
    required: false
    label:
      en_US: Customer Memo
      zh_Hans: 客户备注
    human_description:
      en_US: Customer Memo
      zh_Hans: 客户备注
    form: llm

  - name: private_note
    type: string
    required: false
    label:
      en_US: Private Note
      zh_Hans: 内部备注
    human_description:
      en_US: Private Note
      zh_Hans: 内部备注
    form: llm

  - name: query_string
    type: string
    required: false
    label:
      en_US: Query String
      zh_Hans: 查询条件
    human_description:
      en_US: Query String
      zh_Hans: 查询条件
    form: llm

output_schema:
  type: object
  properties:
    success:
      type: boolean
    operation:
      type: string
    credit_memo:
      type: object
    credit_memos:
      type: array
    message:
      type: string

extra:
  python:
    source: tools/credit_memo_management.py
