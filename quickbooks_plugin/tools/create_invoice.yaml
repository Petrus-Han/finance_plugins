identity:
  name: create_invoice
  author: petrus
  label:
    en_US: Create Invoice
    zh_Hans: 创建发票
  human_description:
    en_US: Create Invoice
    zh_Hans: 创建发票
description:
  human:
    en_US: Create a new invoice in QuickBooks Online for a customer.
    zh_Hans: 在 QuickBooks Online 中为客户创建新发票。
  llm: Create a new invoice in QuickBooks Online. Requires a customer ID and line
    items. Returns the created invoice details including ID and total amount.
parameters:
- name: customer_id
  type: string
  required: true
  label:
    en_US: Customer ID
    zh_Hans: 客户 ID
  human_description:
    en_US: The QuickBooks customer ID to invoice
    zh_Hans: 要开票的 QuickBooks 客户 ID
  llm_description: The QuickBooks Online customer ID (numeric string)
  form: llm
- name: line_items
  type: string
  required: true
  label:
    en_US: Line Items (JSON)
    zh_Hans: 行项目（JSON）
  human_description:
    en_US: 'JSON array of line items. Each item: {amount, description, item_id, quantity,
      unit_price}'
    zh_Hans: '行项目的 JSON 数组。每项: {amount, description, item_id, quantity, unit_price}'
  llm_description: 'JSON array of invoice line items. Each item should have:

    - amount (required): Line total amount

    - description (optional): Line description

    - item_id (optional): QuickBooks item/product ID

    - quantity (optional): Quantity

    - unit_price (optional): Unit price

    Example: [{"amount": 100, "description": "Consulting services", "quantity": 2,
    "unit_price": 50}]

    '
  form: llm
- name: txn_date
  type: string
  required: false
  label:
    en_US: Transaction Date
    zh_Hans: 交易日期
  human_description:
    en_US: Invoice date (YYYY-MM-DD format)
    zh_Hans: 发票日期（YYYY-MM-DD 格式）
  llm_description: Invoice date in YYYY-MM-DD format. Defaults to today if not provided.
  form: llm
- name: due_date
  type: string
  required: false
  label:
    en_US: Due Date
    zh_Hans: 到期日期
  human_description:
    en_US: Payment due date (YYYY-MM-DD format)
    zh_Hans: 付款到期日期（YYYY-MM-DD 格式）
  llm_description: Payment due date in YYYY-MM-DD format
  form: llm
- name: doc_number
  type: string
  required: false
  label:
    en_US: Invoice Number
    zh_Hans: 发票编号
  human_description:
    en_US: Custom invoice number (auto-generated if not provided)
    zh_Hans: 自定义发票编号（不提供则自动生成）
  llm_description: Custom invoice number. Auto-generated by QuickBooks if not provided.
  form: llm
- name: customer_memo
  type: string
  required: false
  label:
    en_US: Customer Memo
    zh_Hans: 客户备注
  human_description:
    en_US: Message visible to the customer
    zh_Hans: 客户可见的消息
  llm_description: Message that will be visible to the customer on the invoice
  form: llm
- name: private_note
  type: string
  required: false
  label:
    en_US: Private Note
    zh_Hans: 内部备注
  human_description:
    en_US: Internal note (not visible to customer)
    zh_Hans: 内部备注（客户不可见）
  llm_description: Internal note that is not visible to the customer
  form: llm
- name: bill_email
  type: string
  required: false
  label:
    en_US: Bill Email
    zh_Hans: 账单邮箱
  human_description:
    en_US: Email address to send the invoice to
    zh_Hans: 发送发票的邮箱地址
  llm_description: Email address where the invoice will be sent
  form: llm
extra:
  python:
    source: tools/create_invoice.py
output_schema:
  type: object
  properties:
    success:
      type: boolean
      description: Whether the invoice was created successfully
    id:
      type: string
      description: The unique identifier of the created invoice
    doc_number:
      type: string
      description: The invoice document number
    txn_date:
      type: string
      description: The transaction date of the invoice
    due_date:
      type: string
      description: The payment due date
    total_amount:
      type: number
      description: The total amount of the invoice
    balance:
      type: number
      description: The remaining balance on the invoice
    customer:
      type: string
      description: The customer name
    email_status:
      type: string
      description: The email delivery status
    sync_token:
      type: string
      description: QuickBooks sync token for the record
    invoice_link:
      type: string
      description: Link to view the invoice online
    message:
      type: string
      description: Success message with invoice details
