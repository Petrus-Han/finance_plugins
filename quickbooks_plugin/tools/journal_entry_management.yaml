identity:
  name: journal_entry_management
  author: petrus
  label:
    en_US: Journal Entry Management
    zh_Hans: 日记账分录管理
  human_description:
    en_US: Journal Entry Management
    zh_Hans: 日记账分录管理
  icon: icon.svg

description:
  human:
    en_US: Create, read, update, or delete journal entries
    zh_Hans: 创建、读取、更新或删除日记账分录
  llm: A tool to manage journal entries in QuickBooks - debit and credit transactions

parameters:
  - name: operation
    type: select
    required: true
    label:
      en_US: Operation
      zh_Hans: 操作
    human_description:
      en_US: Operation
      zh_Hans: 操作
    llm_description: "Operation type: create, read, update, delete, or query"
    form: llm
    options:
      - value: create
        label:
          en_US: Create Journal Entry
          zh_Hans: 创建日记账分录
        human_description:
          en_US: Create Journal Entry
          zh_Hans: 创建日记账分录
      - value: read
        label:
          en_US: Read Journal Entry
          zh_Hans: 读取日记账分录
        human_description:
          en_US: Read Journal Entry
          zh_Hans: 读取日记账分录
      - value: update
        label:
          en_US: Update Journal Entry
          zh_Hans: 更新日记账分录
        human_description:
          en_US: Update Journal Entry
          zh_Hans: 更新日记账分录
      - value: delete
        label:
          en_US: Delete Journal Entry
          zh_Hans: 删除日记账分录
        human_description:
          en_US: Delete Journal Entry
          zh_Hans: 删除日记账分录
      - value: query
        label:
          en_US: Query Journal Entries
          zh_Hans: 查询日记账分录

        human_description:
          en_US: Query Journal Entries
          zh_Hans: 查询日记账分录
  - name: journal_entry_id
    type: string
    required: false
    label:
      en_US: Journal Entry ID
      zh_Hans: 日记账分录 ID
    human_description:
      en_US: Journal Entry ID
      zh_Hans: 日记账分录 ID
    llm_description: Required for read, update, and delete.
    form: llm

  - name: sync_token
    type: string
    required: false
    label:
      en_US: Sync Token
      zh_Hans: 同步令牌
    human_description:
      en_US: Sync Token
      zh_Hans: 同步令牌
    llm_description: Required for update and delete.
    form: llm

  - name: lines_json
    type: string
    required: false
    label:
      en_US: Lines (JSON)
      zh_Hans: 分录行 (JSON)
    human_description:
      en_US: "JSON array of lines with PostingType (Debit/Credit), AccountRef, Amount"
      zh_Hans: "分录行 JSON 数组，包含 PostingType、AccountRef、Amount"
    llm_description: "JSON array: [{\"PostingType\": \"Debit\", \"AccountRef\": {\"value\": \"1\"}, \"Amount\": 100}, {\"PostingType\": \"Credit\", \"AccountRef\": {\"value\": \"2\"}, \"Amount\": 100}]"
    form: llm

  - name: txn_date
    type: string
    required: false
    label:
      en_US: Transaction Date
      zh_Hans: 交易日期
    human_description:
      en_US: Transaction Date
      zh_Hans: 交易日期
    llm_description: Date in YYYY-MM-DD format
    form: llm

  - name: doc_number
    type: string
    required: false
    label:
      en_US: Document Number
      zh_Hans: 凭证号
    human_description:
      en_US: Document Number
      zh_Hans: 凭证号
    llm_description: Reference number
    form: llm

  - name: private_note
    type: string
    required: false
    label:
      en_US: Private Note
      zh_Hans: 内部备注
    human_description:
      en_US: Private Note
      zh_Hans: 内部备注
    form: llm

  - name: query_string
    type: string
    required: false
    label:
      en_US: Query String
      zh_Hans: 查询条件
    human_description:
      en_US: Query String
      zh_Hans: 查询条件
    form: llm

output_schema:
  type: object
  properties:
    success:
      type: boolean
    operation:
      type: string
    journal_entry:
      type: object
    journal_entries:
      type: array
    message:
      type: string

extra:
  python:
    source: tools/journal_entry_management.py
