identity:
  name: estimate_management
  author: petrus
  label:
    en_US: Manage Estimates
    zh_Hans: 管理报价单
    ja_JP: 見積もり管理
    fr_FR: Gérer devis
    es_ES: Gestionar presupuestos
    pt_BR: Gerenciar orçamentos
    ko_KR: 견적서 관리
  icon: icon.svg

description:
  human:
    en_US: Create and send price quotes to potential customers. Convert accepted estimates into invoices.
    zh_Hans: 为潜在客户创建并发送报价单。将已接受的报价单转换为发票。
    ja_JP: 見込み客に見積もりを作成・送付。承諾された見積もりを請求書に変換。
    fr_FR: Créez et envoyez des devis aux clients potentiels. Convertissez les devis acceptés en factures.
    es_ES: Cree y envíe presupuestos a clientes potenciales. Convierta presupuestos aceptados en facturas.
    pt_BR: Crie e envie orçamentos para clientes potenciais. Converta orçamentos aceitos em faturas.
    ko_KR: 잠재 고객에게 견적서를 작성하고 보냅니다. 승인된 견적서를 청구서로 변환하세요.
  llm: A tool to manage estimates (quotes/proposals) in QuickBooks

parameters:
  - name: operation
    type: select
    required: true
    label:
      en_US: Action
      zh_Hans: 操作
      ja_JP: 操作
      fr_FR: Action
      es_ES: Acción
      pt_BR: Ação
      ko_KR: 작업
    human_description:
      en_US: What would you like to do?
      zh_Hans: 您想做什么？
      ja_JP: 何をしますか？
      fr_FR: Que souhaitez-vous faire ?
      es_ES: ¿Qué le gustaría hacer?
      pt_BR: O que você gostaria de fazer?
      ko_KR: 무엇을 하시겠습니까?
    llm_description: "Operation type: create, read, update, delete, or query"
    form: llm
    options:
      - value: create
        label:
          en_US: Create Estimate
          zh_Hans: 创建报价单
          ja_JP: 見積もりを作成
          fr_FR: Créer devis
          es_ES: Crear presupuesto
          pt_BR: Criar orçamento
          ko_KR: 견적서 작성
      - value: read
        label:
          en_US: View Estimate
          zh_Hans: 查看报价单
          ja_JP: 見積もりを表示
          fr_FR: Voir devis
          es_ES: Ver presupuesto
          pt_BR: Ver orçamento
          ko_KR: 견적서 보기
      - value: delete
        label:
          en_US: Delete Estimate
          zh_Hans: 删除报价单
          ja_JP: 見積もりを削除
          fr_FR: Supprimer devis
          es_ES: Eliminar presupuesto
          pt_BR: Excluir orçamento
          ko_KR: 견적서 삭제
      - value: query
        label:
          en_US: Search Estimates
          zh_Hans: 搜索报价单
          ja_JP: 見積もりを検索
          fr_FR: Rechercher devis
          es_ES: Buscar presupuestos
          pt_BR: Pesquisar orçamentos
          ko_KR: 견적서 검색
  - name: estimate_id
    type: string
    required: false
    label:
      en_US: Estimate ID
      zh_Hans: 报价单 ID
    human_description:
      en_US: Estimate ID
      zh_Hans: 报价单 ID
    llm_description: Required for read and delete.
    form: llm

  - name: sync_token
    type: string
    required: false
    label:
      en_US: Sync Token
      zh_Hans: 同步令牌
    human_description:
      en_US: Sync Token
      zh_Hans: 同步令牌
    llm_description: Required for delete.
    form: llm

  - name: customer_id
    type: string
    required: false
    label:
      en_US: Customer ID
      zh_Hans: 客户 ID
    human_description:
      en_US: Customer ID
      zh_Hans: 客户 ID
    llm_description: Required for create.
    form: llm

  - name: lines_json
    type: string
    required: false
    label:
      en_US: Line Items (JSON)
      zh_Hans: 行项目 (JSON)
    human_description:
      en_US: Line Items (JSON)
      zh_Hans: 行项目 (JSON)
    llm_description: "JSON array: [{\"ItemRef\": {\"value\": \"1\"}, \"Qty\": 1, \"UnitPrice\": 100, \"Amount\": 100}]"
    form: llm

  - name: txn_date
    type: string
    required: false
    label:
      en_US: Transaction Date
      zh_Hans: 交易日期
    human_description:
      en_US: Transaction Date
      zh_Hans: 交易日期
    form: llm

  - name: expiration_date
    type: string
    required: false
    label:
      en_US: Expiration Date
      zh_Hans: 过期日期
    human_description:
      en_US: Expiration Date
      zh_Hans: 过期日期
    form: llm

  - name: customer_memo
    type: string
    required: false
    label:
      en_US: Customer Memo
      zh_Hans: 客户备注
    human_description:
      en_US: Customer Memo
      zh_Hans: 客户备注
    form: llm

  - name: private_note
    type: string
    required: false
    label:
      en_US: Private Note
      zh_Hans: 内部备注
    human_description:
      en_US: Private Note
      zh_Hans: 内部备注
    form: llm

  - name: query_string
    type: string
    required: false
    label:
      en_US: Query String
      zh_Hans: 查询条件
    human_description:
      en_US: Query String
      zh_Hans: 查询条件
    form: llm

output_schema:
  type: object
  properties:
    success:
      type: boolean
    operation:
      type: string
    estimate:
      type: object
    estimates:
      type: array
    message:
      type: string

extra:
  python:
    source: tools/estimate_management.py
