identity:
  name: item_management
  author: petrus
  label:
    en_US: Item Management
    zh_Hans: 商品/服务管理
  icon: icon.svg

description:
  human:
    en_US: Create, read, update items (products, services, inventory)
    zh_Hans: 创建、读取、更新商品（产品、服务、库存）
  llm: A tool to manage items in QuickBooks - products, services, inventory, and categories

parameters:
  - name: operation
    type: select
    required: true
    label:
      en_US: Operation
      zh_Hans: 操作
    llm_description: "Operation type: create, read, update, or query"
    form: llm
    options:
      - value: create
        label:
          en_US: Create Item
          zh_Hans: 创建商品
      - value: read
        label:
          en_US: Read Item
          zh_Hans: 读取商品
      - value: update
        label:
          en_US: Update Item
          zh_Hans: 更新商品
      - value: query
        label:
          en_US: Query Items
          zh_Hans: 查询商品

  - name: item_id
    type: string
    required: false
    label:
      en_US: Item ID
      zh_Hans: 商品 ID
    llm_description: Required for read and update.
    form: llm

  - name: sync_token
    type: string
    required: false
    label:
      en_US: Sync Token
      zh_Hans: 同步令牌
    llm_description: Required for update.
    form: llm

  - name: name
    type: string
    required: false
    label:
      en_US: Name
      zh_Hans: 名称
    llm_description: Item name (must be unique). Required for create.
    form: llm

  - name: item_type
    type: select
    required: false
    label:
      en_US: Type
      zh_Hans: 类型
    llm_description: Item type. Required for create.
    form: llm
    options:
      - value: Service
        label:
          en_US: Service
          zh_Hans: 服务
      - value: Inventory
        label:
          en_US: Inventory
          zh_Hans: 库存
      - value: NonInventory
        label:
          en_US: Non-Inventory
          zh_Hans: 非库存
      - value: Category
        label:
          en_US: Category
          zh_Hans: 分类

  - name: income_account_id
    type: string
    required: false
    label:
      en_US: Income Account ID
      zh_Hans: 收入账户 ID
    llm_description: Income account for sales. Required for Service and Inventory.
    form: llm

  - name: expense_account_id
    type: string
    required: false
    label:
      en_US: Expense Account ID
      zh_Hans: 费用账户 ID
    llm_description: Expense account for purchases.
    form: llm

  - name: asset_account_id
    type: string
    required: false
    label:
      en_US: Asset Account ID
      zh_Hans: 资产账户 ID
    llm_description: Inventory asset account. Required for Inventory type.
    form: llm

  - name: unit_price
    type: number
    required: false
    label:
      en_US: Unit Price
      zh_Hans: 单价
    llm_description: Sales price per unit.
    form: llm

  - name: purchase_cost
    type: number
    required: false
    label:
      en_US: Purchase Cost
      zh_Hans: 采购成本
    llm_description: Purchase cost per unit.
    form: llm

  - name: qty_on_hand
    type: number
    required: false
    label:
      en_US: Quantity On Hand
      zh_Hans: 库存数量
    llm_description: Initial quantity. Required for Inventory type.
    form: llm

  - name: description
    type: string
    required: false
    label:
      en_US: Description
      zh_Hans: 描述
    form: llm

  - name: sku
    type: string
    required: false
    label:
      en_US: SKU
      zh_Hans: 库存单位
    form: llm

  - name: taxable
    type: boolean
    required: false
    default: false
    label:
      en_US: Taxable
      zh_Hans: 应税
    form: llm

  - name: query_string
    type: string
    required: false
    label:
      en_US: Query String
      zh_Hans: 查询条件
    form: llm

output_schema:
  type: object
  properties:
    success:
      type: boolean
    operation:
      type: string
    item:
      type: object
    items:
      type: array
    message:
      type: string

extra:
  python:
    source: tools/item_management.py
