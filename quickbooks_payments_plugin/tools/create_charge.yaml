identity:
  name: create_charge
  author: petrus
  label:
    en_US: Process Payment
    zh_Hans: 处理付款
    ja_JP: 支払い処理
    fr_FR: Traiter le paiement
    es_ES: Procesar pago
    pt_BR: Processar pagamento
    ko_KR: 결제 처리
  icon: icon.svg
description:
  human:
    en_US: Charge a customer's card or bank account. The payment is completed immediately unless you choose to authorize only.
    zh_Hans: 向客户的卡或银行账户收款。除非您选择仅授权，否则付款会立即完成。
    ja_JP: 顧客のカードまたは銀行口座に課金します。承認のみを選択しない限り、支払いは即座に完了します。
    fr_FR: Débitez la carte ou le compte bancaire d'un client. Le paiement est effectué immédiatement sauf si vous choisissez d'autoriser seulement.
    es_ES: Cargue a la tarjeta o cuenta bancaria de un cliente. El pago se completa inmediatamente a menos que elija solo autorizar.
    pt_BR: Cobre do cartão ou conta bancária de um cliente. O pagamento é concluído imediatamente, a menos que você escolha apenas autorizar.
    ko_KR: 고객의 카드 또는 은행 계좌로 청구합니다. 승인만 선택하지 않는 한 결제가 즉시 완료됩니다.
  llm: This tool processes a payment transaction using a payment token created with
    the create_token tool. The payment can be captured immediately or authorized for
    later capture.
parameters:
- name: amount
  type: string
  required: true
  label:
    en_US: Amount
    zh_Hans: 金额
    ja_JP: 金額
    fr_FR: Montant
    es_ES: Monto
    pt_BR: Valor
    ko_KR: 금액
  human_description:
    en_US: 'How much to charge (e.g., "10.50" for $10.50)'
    zh_Hans: '收取金额（例如 "10.50" 代表 $10.50）'
    ja_JP: "請求金額（例：10.50ドルの場合は「10.50」）"
    fr_FR: Montant à débiter (ex. « 10.50 » pour 10,50 $)
    es_ES: 'Cuánto cobrar (ej., "10.50" para $10.50)'
    pt_BR: 'Quanto cobrar (ex., "10.50" para $10,50)'
    ko_KR: '청구할 금액 (예: $10.50의 경우 "10.50")'
  llm_description: The amount to charge as a decimal string (e.g., "10.50" for $10.50)
  form: form
- name: token
  type: string
  required: true
  label:
    en_US: Payment Token
    zh_Hans: 支付令牌
    ja_JP: 支払いトークン
    fr_FR: Jeton de paiement
    es_ES: Token de pago
    pt_BR: Token de pagamento
    ko_KR: 결제 토큰
  human_description:
    en_US: 'The one-time code from "Prepare Payment Method"'
    zh_Hans: '来自"准备支付方式"的一次性代码'
    ja_JP: 「支払方法を準備」からの一回限りのコード
    fr_FR: Le code à usage unique de « Préparer mode de paiement »
    es_ES: 'El código de un solo uso de "Preparar método de pago"'
    pt_BR: 'O código de uso único de "Preparar método de pagamento"'
    ko_KR: '"결제 수단 준비"에서 받은 일회용 코드'
  llm_description: The payment token value returned by the create_token tool
  form: form
- name: currency
  type: select
  required: false
  default: USD
  options:
  - value: USD
    label:
      en_US: USD (US Dollar)
      zh_Hans: 美元 (USD)
      ja_JP: 米ドル (USD)
      fr_FR: USD (Dollar américain)
      es_ES: USD (Dólar estadounidense)
      pt_BR: USD (Dólar americano)
      ko_KR: USD (미국 달러)
  label:
    en_US: Currency
    zh_Hans: 货币
    ja_JP: 通貨
    fr_FR: Devise
    es_ES: Moneda
    pt_BR: Moeda
    ko_KR: 통화
  human_description:
    en_US: Currency for the payment (currently US Dollar only)
    zh_Hans: 支付货币（目前仅支持美元）
    ja_JP: 支払いの通貨（現在は米ドルのみ）
    fr_FR: Devise du paiement (actuellement dollar américain uniquement)
    es_ES: Moneda del pago (actualmente solo dólar estadounidense)
    pt_BR: Moeda do pagamento (atualmente apenas dólar americano)
    ko_KR: 결제 통화 (현재 미국 달러만 지원)
  llm_description: Currency code, currently only USD is supported
  form: form
- name: capture
  type: select
  required: false
  default: 'true'
  options:
  - value: 'true'
    label:
      en_US: Charge Now (Recommended)
      zh_Hans: 立即收款（推荐）
      ja_JP: 今すぐ課金（推奨）
      fr_FR: Débiter maintenant (Recommandé)
      es_ES: Cobrar ahora (Recomendado)
      pt_BR: Cobrar agora (Recomendado)
      ko_KR: 지금 청구 (권장)
  - value: 'false'
    label:
      en_US: Authorize Only (Charge Later)
      zh_Hans: 仅授权（稍后收款）
      ja_JP: 承認のみ（後で課金）
      fr_FR: Autoriser seulement (Débiter plus tard)
      es_ES: Solo autorizar (Cobrar después)
      pt_BR: Apenas autorizar (Cobrar depois)
      ko_KR: 승인만 (나중에 청구)
  label:
    en_US: When to Charge
    zh_Hans: 何时收款
    ja_JP: 課金タイミング
    fr_FR: Quand débiter
    es_ES: Cuándo cobrar
    pt_BR: Quando cobrar
    ko_KR: 청구 시점
  human_description:
    en_US: Complete the payment now, or just verify the card and charge later
    zh_Hans: 立即完成付款，或仅验证卡片稍后收款
    ja_JP: 今すぐ支払いを完了するか、カードを確認して後で課金
    fr_FR: Compléter le paiement maintenant ou vérifier la carte et débiter plus tard
    es_ES: Completar el pago ahora o verificar la tarjeta y cobrar después
    pt_BR: Completar o pagamento agora ou verificar o cartão e cobrar depois
    ko_KR: 지금 결제를 완료하거나 카드만 확인하고 나중에 청구
  llm_description: Set to true to capture payment immediately, or false to only authorize
    for later capture
  form: form
- name: description
  type: string
  required: false
  label:
    en_US: Note
    zh_Hans: 备注
    ja_JP: メモ
    fr_FR: Note
    es_ES: Nota
    pt_BR: Nota
    ko_KR: 메모
  human_description:
    en_US: 'What is this payment for? (e.g., "Invoice #1234")'
    zh_Hans: '这笔付款的用途？（例如"发票 #1234"）'
    ja_JP: "この支払いの目的は？（例：「請求書 #1234」）"
    fr_FR: À quoi sert ce paiement ? (ex. « Facture #1234 »)
    es_ES: '¿Para qué es este pago? (ej., "Factura #1234")'
    pt_BR: 'Para que é este pagamento? (ex., "Fatura #1234")'
    ko_KR: '이 결제는 무엇입니까? (예: "청구서 #1234")'
  llm_description: Optional description or note about this payment transaction
  form: form
- name: customer_id
  type: string
  required: false
  label:
    en_US: Customer ID
    zh_Hans: 客户 ID
    ja_JP: 顧客 ID
    fr_FR: ID Client
    es_ES: ID de Cliente
    pt_BR: ID do Cliente
    ko_KR: 고객 ID
  human_description:
    en_US: Link this payment to a customer in QuickBooks (optional)
    zh_Hans: 将此付款链接到 QuickBooks 中的客户（可选）
    ja_JP: この支払いをQuickBooksの顧客にリンク（オプション）
    fr_FR: Lier ce paiement à un client dans QuickBooks (optionnel)
    es_ES: Vincular este pago a un cliente en QuickBooks (opcional)
    pt_BR: Vincular este pagamento a um cliente no QuickBooks (opcional)
    ko_KR: 이 결제를 QuickBooks의 고객에게 연결 (선택사항)
  llm_description: Optional customer identifier in QuickBooks system
  form: form
output_schema:
  type: object
  properties:
    id:
      type: string
      description: Unique identifier for the charge
    status:
      type: string
      description: Current status of the charge (CAPTURED, AUTHORIZED, etc.)
    amount:
      type: string
      description: Amount charged
    currency:
      type: string
      description: Currency code of the charge
    created:
      type: string
      description: Timestamp when the charge was created
    auth_code:
      type: string
      description: Authorization code from the payment processor
    captured:
      type: boolean
      description: Whether the payment was captured immediately
    card:
      type: object
      description: Card details used for the charge (if card payment)
      properties:
        number:
          type: string
          description: Masked card number
        card_type:
          type: string
          description: Type of card (VISA, MASTERCARD, etc.)
        name:
          type: string
          description: Name on the card
extra:
  python:
    source: tools/create_charge.py
